 <!-- This adds support for mkdocs-git-authors-plugin to mkdocs-material theme --> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://pypi.org/project/pear-ebi/0.1.1.10/tutorials/2Advanced%20use%20of%20pear_ebi.html><link rel=prev href=1How_to_use_pear_ebi.html><link rel=next href=3How%20to%20use%20pear_ebi%20on%20python%20and%20reproduce%20the%20examples%20on%20the%20paper.html><link rel=icon href=https://github.com/AndreaRubbi/Pear-EBI/raw/pear_ebi/logos/LOGO_PEAR.png><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.13"><title>2. Advanced uses of Pear - PEAR-EBI</title><link rel=stylesheet href=../assets/stylesheets/main.ffa9267a.min.css><link rel=stylesheet href=../assets/stylesheets/palette.a0c5b2b5.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/print-site-enum-headings1.css><link rel=stylesheet href=../css/print-site-enum-headings2.css><link rel=stylesheet href=../css/print-site-enum-headings3.css><link rel=stylesheet href=../css/print-site-enum-headings4.css><link rel=stylesheet href=../css/print-site-enum-headings5.css><link rel=stylesheet href=../css/print-site-enum-headings6.css><link rel=stylesheet href=../css/print-site.css><link rel=stylesheet href=../css/print-site-material.css><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../docs_assets/stylesheets/pdf-export.css><link rel=stylesheet href=../css/ansi-colours.css><link rel=stylesheet href=../css/pandas-dataframe.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=green data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2-advanced-uses-of-pear class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../index.html title=PEAR-EBI class="md-header__button md-logo" aria-label=PEAR-EBI data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> PEAR-EBI </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 2. Advanced uses of Pear </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/AndreaRubbi/Pear-EBI title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> PEAR-EBI </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../index.html title=PEAR-EBI class="md-nav__button md-logo" aria-label=PEAR-EBI data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> PEAR-EBI </label> <div class=md-nav__source> <a href=https://github.com/AndreaRubbi/Pear-EBI title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> PEAR-EBI </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Modules <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Modules </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/gendoc.html class=md-nav__link> Gendoc </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> Pear ebi <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Pear ebi </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/tree_emb_parser.html class=md-nav__link> Tree emb parser </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/tree_set.html class=md-nav__link> Tree set </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_3> <label class=md-nav__link for=__nav_2_2_3 id=__nav_2_2_3_label tabindex=0> Calculate distances <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_3> <span class="md-nav__icon md-icon"></span> Calculate distances </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/calculate_distances/hashrf.html class=md-nav__link> Hashrf </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/calculate_distances/maple_RF.html class=md-nav__link> maple RF </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/calculate_distances/tqdist.html class=md-nav__link> Tqdist </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_4> <label class=md-nav__link for=__nav_2_2_4 id=__nav_2_2_4_label tabindex=0> Embeddings <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_4> <span class="md-nav__icon md-icon"></span> Embeddings </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/Isomap_e.html class=md-nav__link> Isomap e </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/LLE_e.html class=md-nav__link> LLE e </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/PCoA_e.html class=md-nav__link> PCoA e </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/emb_quality.html class=md-nav__link> Emb quality </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/tSNE_e.html class=md-nav__link> tSNE e </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_4_6> <label class=md-nav__link for=__nav_2_2_4_6 id=__nav_2_2_4_6_label tabindex=0> Graph <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_2_2_4_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_4_6> <span class="md-nav__icon md-icon"></span> Graph </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/embeddings/graph/graph.html class=md-nav__link> Graph </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_5> <label class=md-nav__link for=__nav_2_2_5 id=__nav_2_2_5_label tabindex=0> Interactive mode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_5> <span class="md-nav__icon md-icon"></span> Interactive mode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/interactive_mode/interactive.html class=md-nav__link> Interactive </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2_6> <label class=md-nav__link for=__nav_2_2_6 id=__nav_2_2_6_label tabindex=0> Subsample <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2_6> <span class="md-nav__icon md-icon"></span> Subsample </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/pear_ebi/subsample/subsample.html class=md-nav__link> Subsample </a> </li> <li class=md-nav__item> <a href=../modules/pear_ebi/subsample/subsample_multiprocess.html class=md-nav__link> Subsample multiprocess </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3 id=__nav_2_3_label tabindex=0> Test <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Test </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modules/test/test.html class=md-nav__link> Test </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Tutorials <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=1How_to_use_pear_ebi.html class=md-nav__link> 1. How to use Pear </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> 2. Advanced uses of Pear <span class="md-nav__icon md-icon"></span> </label> <a href=2Advanced%20use%20of%20pear_ebi.html class="md-nav__link md-nav__link--active"> 2. Advanced uses of Pear </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#peartoml class=md-nav__link> pear.toml </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1 class=md-nav__link> Example 1 </a> <nav class=md-nav aria-label="Example 1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-continued class=md-nav__link> Example 1 Continued </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-2 class=md-nav__link> Example 2 </a> <nav class=md-nav aria-label="Example 2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-2-continued class=md-nav__link> Example 2 Continued </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=3How%20to%20use%20pear_ebi%20on%20python%20and%20reproduce%20the%20examples%20on%20the%20paper.html class=md-nav__link> 3. How to use Pear on python </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#peartoml class=md-nav__link> pear.toml </a> </li> <li class=md-nav__item> <a href=#examples class=md-nav__link> Examples </a> <nav class=md-nav aria-label=Examples> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1 class=md-nav__link> Example 1 </a> <nav class=md-nav aria-label="Example 1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-1-continued class=md-nav__link> Example 1 Continued </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#example-2 class=md-nav__link> Example 2 </a> <nav class=md-nav aria-label="Example 2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-2-continued class=md-nav__link> Example 2 Continued </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=2-advanced-uses-of-pear>2. Advanced uses of Pear<a class=headerlink href=#2-advanced-uses-of-pear title="Permanent link">&para;</a></h1> <p>Here we introduce some more elaborated ways we can use pear to perform in-depth analyses and produce effective representations of the embedded distance matrices.</p> <h2 id=peartoml>pear.toml<a class=headerlink href=#peartoml title="Permanent link">&para;</a></h2> <p>Pear will automatically look for a <code>pear.toml</code> file in the working directory, alternatively, a <code>.toml</code> file can be specified using the <code>--config</code> flag. A <code>.toml</code> file is just a convenient way of specifying many parameters. Doing so in an auxiliary file remove excessive clutter in the use of pear and promotes a more standardized way of performing a series of analyses. <br>We will guide you through the use of this additional tool.</p> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>cat</span> <span class=n>template_pear</span><span class=o>.</span><span class=n>toml</span>
</code></pre></div> <p>Here you can see the <code>pear.toml</code> example stored in the same directory of this notebook. It is a perfect template for your future analyses! <br>Let's go thorugh all its parts:<ul> <li> <code>[trees]</code> contains single file specifications. Each line associated with this key should direct pear to a file containing trees in Newick format. The nomenclature is "file<span class=arithmatex>\(n\)</span>=filename", where <span class=arithmatex>\(n\)</span> is just the index of the file, whereas filename is the path to the file itself. <li> <code>[dir]</code> contains directory and pattern specifications. Each directory should contain only tree-containing files, and should be indicated with a . Alternatively, a <code>pattern</code> can be indicated to narrow the research of the files. <li> <code>[collection]</code> stores details related to the <code>tree_set</code> or <code>set_collection</code>:<ul> <li> <code>output_file</code> specifies an alternative name and path for the distance matrix file; <li> <code>distance_matrix</code> indicates the path of a precomputed distance matrix; <li> <code>metadata</code> indicates a <code>.csv</code> file containing metadata compatible with the collection. That means that the number of rows in the file should be equal to the number of trees in the collection. The information stored in metadata can be of any type (discrete or continuous) and can subsequently used in the representation of your data in the 3D embedding instead of the 3<span class=arithmatex>\(^{rd}\)</span> dimension, or to color the points (trees). </ul> <li> <code>[highlight]</code> allows for specifying specific trees in the set/collection which are going to highlighted in the final plots. The way one specifies this is by giving a list of indexes indicating which trees to be highlighted for a given set (either if that is part of a collection or not). You specify a list for a set by writing "file<span class=arithmatex>\(n\)</span>"if the file has been indexed as such in the <code>[files]</code> argument. Otherwise by using the name of the file (without extension: filename.trees is just filename) if the file has been specified through <code>[dir]</code> selection. <br> <li> <code>[distance]</code> specifies the <code>method</code> used to compute the distance matrix. It can be chosen among <code>hashrf_RF</code>, <code>hashrf_wRF</code>, <code>smart_RF</code>, <code>tqdist_quartet</code>, <code>tqdist_triplet</code>. <li> <code>[embedding]</code> specifies the <code>method</code> used to compute the embedding of the distance matrix, the <code>dimensions</code> of the embedding, and whether to display the <code>quality</code> or not. Methods are <code>pcoa</code>, <code>tsne</code>, <code>isomap</code>, <code>lle</code>. <li> <code>[plot]</code> defines some aspects of the plots produced by pear:<ul> <li><code>name_plot</code> specifies the name of the plot produced; <li><code>plot_meta</code> indicates which feature to use to color the points in the graph, default value is <code>SET-ID</code> which simply colors by <code>tree_set</code>. A <code>STEP</code> meta-variable is present and indicates the index of a tree in a <code>tree_set</code>, it can be used to color trees when the ordering is important. Other meta-variables can be specified through the <code>[metadata]</code> argument. <li> <code>z_axis</code>, similarly to <code>plot_meta</code>, indicates an alternative meta-variable to be used in the plots. The selected meta-variable replaces the 3<span class=arithmatex>\(^{rd}\)</span> dimension in the 3D graphs. <li><code>select</code> indicates whether the graph should have a set of interactive buttons to display/hide specific <code>tree_set</code>s or not. <li><code>same_scale</code> indicates whether the same colorscale should be applied to every <code>tree_set</code> or not. <li><code>show</code> specifies whether the plot should be shown or not. </ul> <b>Note that</b> all these arguments are optional, and many of them can be specified otherwise using the normal functionalities of pear. In fact, should any of these arguments be specified using the <code>.toml</code> structure and the flags in pear, the arguments will be overscribed by the ones indicated on the command line. On an additional note related to this, the flag <code>--meta</code> allows to specify on the command line a metadata file, replicating the behaviour of the <code>metadata</code> argument in <code>[collection]</code>. </p> <hr> <h2 id=examples>Examples<a class=headerlink href=#examples title="Permanent link">&para;</a></h2> <h3 id=example-1>Example 1<a class=headerlink href=#example-1 title="Permanent link">&para;</a></h3> <p>We use pear to analyze 3 runs of a MCMC algorithm, called Beast, used to estimate a phylogenetic tree structure.<br> We upload 2 files using the <code>[trees]</code> argument and 1 by specifying the <code>[dir]</code> and a <code>pattern</code>.<br> We compute the Robinson Foulds distances using hashrf.<br> We embed the distances in a 3-dimensional space using PCoA, and we plot the results colouring by STEP and highlighting some specific trees for each set. We also display some buttons to hide/show the sets in the plots, we use different colorscales (the default behaviour), and we show the results.</p> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>cat</span> <span class=n>example_1</span><span class=o>.</span><span class=n>toml</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>pear_ebi</span> <span class=o>--</span><span class=n>config</span> <span class=n>example_1</span><span class=o>.</span><span class=n>toml</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>[34mPEAR v0.[0m[1;34m1.85[0m
[37mLooking into directory [0m[35m..[0m[35m/beast_trees/[0m[35m [0m[37m- pattern: [0m[35m*run2*[0m
[95mYour input:[0m
─────────────────────────────            
 Tree set collection containing [1;36m3003[0m trees;            
 File: Set_collection_[93m72c842e8-e1ac-4a90-8fbc-535c4b10ef92[0m;
 Distance matrix: not computed.                
───────────────────────────── 
beast_run1; Containing [1;36m1001[0m trees. 
beast_long; Containing [1;36m1001[0m trees. 
beast_run2; Containing [1;36m1001[0m trees.

[2K[32m⠸[0m [1;32mCalculating distances...[0m0m
[1A[2K[1;34mhashrf_RF | Done![0m
[2K[32m⠋[0m [1;32mEmbedding distances...[0m0m
[1A[2K[1;34mpcoa | Done![0m

[93m- Leaving PEAR -[0m
</code></pre></div> <h4 id=example-1-continued>Example 1 Continued<a class=headerlink href=#example-1-continued title="Permanent link">&para;</a></h4> <p>We now show that we can easily modify a single parameter without touching the <code>.toml</code> file by simply overriding it on the command line. <br> As an example, we change the embedding method to tSNE.</p> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>pear_ebi</span> <span class=o>--</span><span class=n>config</span> <span class=n>example_1</span><span class=o>.</span><span class=n>toml</span> <span class=o>--</span><span class=n>tsne</span> <span class=mi>3</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>[34mPEAR v0.[0m[1;34m1.85[0m
[37mLooking into directory [0m[35m..[0m[35m/beast_trees/[0m[35m [0m[37m- pattern: [0m[35m*run2*[0m
[95mYour input:[0m
─────────────────────────────            
 Tree set collection containing [1;36m3003[0m trees;            
 File: Set_collection_[93m9a55b5c8-53b6-40c3-b4c7-55df883b3258[0m;
 Distance matrix: not computed.                
───────────────────────────── 
beast_run1; Containing [1;36m1001[0m trees. 
beast_long; Containing [1;36m1001[0m trees. 
beast_run2; Containing [1;36m1001[0m trees.

[2K[32m⠼[0m [1;32mCalculating distances...[0m0m
[1A[2K[1;34mhashrf_RF | Done![0m
[2K[32m⠹[0m [1;32mEmbedding distances...[0m0m
[1A[2K[1;34mtsne | Done![0m

[93m- Leaving PEAR -[0m
</code></pre></div> <h3 id=example-2>Example 2<a class=headerlink href=#example-2 title="Permanent link">&para;</a></h3> <p>We use pear to compare 5 different algorithms used to estimate a phylogenetic tree structure with the real structure (we know it as we use simulated data).<br> We upload 6 files using the <code>[trees]</code> argument.<br> We compute the Robinson Foulds distances using hashrf.<br> We embed the distances in a 3-dimensional space using PCoA, and we plot the results colouring by the Likelihood values obtained during the runs. We highlight the true tree structure.<br> We substitute the 3<span class=arithmatex>\(^{rd}\)</span> dimension with the Likelihood scores, and we use the same colorscale to represent the likelihood of the proposed structures.</p> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>cat</span> <span class=n>example_2</span><span class=o>.</span><span class=n>toml</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>pear_ebi</span> <span class=o>--</span><span class=n>config</span> <span class=n>example_2</span><span class=o>.</span><span class=n>toml</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>[34mPEAR v0.[0m[1;34m1.85[0m
[95mYour input:[0m
─────────────────────────────            
 Tree set collection containing [1;36m138[0m trees;            
 File: Set_collection_[93mec4084c4-a5a7-4878-abcc-93c634208b6e[0m;
 Distance matrix: computed.                
───────────────────────────── 
IQtreeStartingTree_Trees; Containing [1;36m29[0m trees. 
MapleStartingTree_Trees; Containing [1;36m5[0m trees. 
ParsimonyRAxMLStartingTree_GTRmodel_Trees; Containing [1;36m47[0m trees. 
RAxMLNGStartingTree_Trees; Containing [1;36m26[0m trees. 
UshERStartingTree_Trees; Containing [1;36m30[0m trees. 
TrueTreeSimulations; Containing [1;36m1[0m trees.

[2K[32m⠋[0m [1;32mEmbedding distances...[0m0m
[1A[2K[1;34mpcoa | Done![0m

[93m- Leaving PEAR -[0m
</code></pre></div> <h4 id=example-2-continued>Example 2 Continued<a class=headerlink href=#example-2-continued title="Permanent link">&para;</a></h4> <p>We now show that we can easily run the same analyses in a very neat way by simply renaming our <code>.toml</code> file by simply renaming it <code>pear.toml</code>. </p> <div class=highlight><pre><span></span><code><span class=err>!</span><span class=n>pear_ebi</span>
</code></pre></div> <div class=codehilite><pre><span></span><code>[34mPEAR v0.[0m[1;34m1.85[0m
[95mYour input:[0m
─────────────────────────────            
 Tree set collection containing [1;36m138[0m trees;            
 File: Set_collection_[93mb87402e6-2e41-4902-8fd2-092a3f6c230a[0m;
 Distance matrix: computed.                
───────────────────────────── 
IQtreeStartingTree_Trees; Containing [1;36m29[0m trees. 
MapleStartingTree_Trees; Containing [1;36m5[0m trees. 
ParsimonyRAxMLStartingTree_GTRmodel_Trees; Containing [1;36m47[0m trees. 
RAxMLNGStartingTree_Trees; Containing [1;36m26[0m trees. 
UshERStartingTree_Trees; Containing [1;36m30[0m trees. 
TrueTreeSimulations; Containing [1;36m1[0m trees.

[2K[32m⠋[0m [1;32mEmbedding distances...[0m0m
[1A[2K[1;34mpcoa | Done![0m

[93m- Leaving PEAR -[0m
</code></pre></div> <hr> <div class=md-source-file> <small> Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-04-29T10:13:55+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-04-29</span> </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Made by Andrea Rubbi </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://www.linkedin.com/in/andrea-rubbi-9a06021a1/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.2a6f1dda.min.js></script> <script src=../js/print-site.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> <script src=../javascripts/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>